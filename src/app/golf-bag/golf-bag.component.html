<div class="golf-bags-container">
  <h2 class="bags-title">Your Golf Bags</h2>
  
  <!-- "Create New Bag" button -->
  <div class="bags-actions">
    <button class="btn btn-primary" (click)="navigateTocreateBag()">Create New Golf Bag</button>
  </div>

  <!-- Grid of Bag Cards -->
  <div class="bag-list">
    <div 
      class="bag-card card"
      *ngFor="let bag of golfBags"
      (click)="selectBag(bag.golfbag_id, $event)"
      [class.selected]="bag.golfbag_id === selectedBagId"
    >
      <h3 class="bag-name">{{ bag.name }}</h3>

      <!-- Show "Add Clubs" button only if this bag is selected -->
      <button 
        *ngIf="bag.golfbag_id === selectedBagId"
        class="btn btn-secondary add-clubs-btn"
        (click)="navigateToAddClubs(bag.golfbag_id, $event)"
      >
        Add Clubs
      </button>

      <!-- Expandable Clubs List -->
      <div class="club-list" *ngIf="bag.golfbag_id === selectedBagId">
        <h4>Clubs in this Bag:</h4>
        <ul>
          <li *ngFor="let club of clubsByBag[bag.golfbag_id]">
            
            <!-- Club Header Row -->
            <div 
              class="club-header"
              (click)="toggleClubDetails(club.id, $event)"
            >
              <strong>{{ club.maker }} {{club.set}} {{ club.number }} {{ club.category }} </strong>
              <span class="arrow" [class.open]="clubExpanded[club.id]">▼</span>
            </div>

            <!-- Dropdown with Additional Club Details -->
            <div class="club-dropdown" *ngIf="clubExpanded[club.id]">
              <p><strong>Loft:</strong> {{ club.loft }}°</p>
              <p><strong>Length:</strong> {{ club.length }}"</p>
              <p><strong>Offset:</strong> {{ club.club_offset }}"</p>
              <p><strong>Lie Angle:</strong> {{ club.lie_angle }}°</p>
              <!-- Add more fields if needed -->
            </div>

          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
